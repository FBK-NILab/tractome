<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="description" content="Tractome : A tool for multimodal and interactive virtual dissection of white matter connectivity.">

    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">

    <title>Tractome</title>
  </head>

  <body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          <a id="forkme_banner" href="https://github.com/FBK-NILab/tractome">View on GitHub</a>

          <h1 id="project_title">Tractome</h1>
          <h2 id="project_tagline">A tool for multimodal and interactive virtual dissection of white matter connectivity.</h2>

            <section id="downloads">
              <a class="zip_download_link" href="https://github.com/FBK-NILab/tractome/zipball/master">Download this project as a .zip file</a>
              <a class="tar_download_link" href="https://github.com/FBK-NILab/tractome/tarball/master">Download this project as a tar.gz file</a>
            </section>
        </header>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">
        <h1>
<a id="tractome" class="anchor" href="#tractome" aria-hidden="true"><span class="octicon octicon-link"></span></a>Tractome</h1>

<p>Tractome (<a href="http://tractome.org">http://tractome.org</a>): A tool for multimodal and interactive virtual dissection of white matter connectivity.</p>

<strong> Incremental Clustering and Exploration</strong>
<p>
  Tractome is an interactive tool for visualisation, exploration and segmentation of tractography data. It supports neuroanatomists and medical doctors in their study of white matter anatomical structures from diffusion magnetic resonance imaging (dMRI) data. Unlike previous systems for tractography segmentation, Tractome is a computer-assisted tool in which the user interacts with a summary of the tractography instead of the whole set of streamlines. The summary is generated by clustering the tractography into a desired number of clusters, usually in the order of tens or one hundred. The summary shows only one representative streamline for each cluster, so that it is easier to interact with them in the 3D scene. The user can then iteratively select the representative streamlines of interest and re-cluster the associated sets or streamlines into smaller ones in order to incrementally reveal details of the anatomical structure of interest. The interaction is powered by novel efficient algorithms for fast clustering.  
</p>

<strong> Enhanced Visualization with WebGPU and FURY</strong>
<p>
  Tractome is has moved to the latest WebGPU rendering backend of FURY, which provides better performance and compatibility across different platforms. This transition enhances the visualisation capabilities of Tractome, allowing for more complex and detailed representations of tractography data. The integration with the latest FURY version ensures that users can take advantage of the most recent advancements in scientific visualisation technology.
</p>

<strong> Updated .trx Format Support</strong>
<p>
  Tractome has also adapted to the latest .trx format specifications, ensuring compatibility with the most recent advancements in tractography data representation.
</p>

<h2>
<a id="installation" class="anchor" href="#installation" aria-hidden="true"><span class="octicon octicon-link"></span></a>Installation</h2>

<ul>
<li>Unzip the source archive.</li>
<li>Navigate to the source directory:<br><code>cd tractome</code></li>
<li>Install dependencies:<br><code>pip install -r requirements.txt</code></li>
<li>Install Tractome:<br><code>pip install .</code></li>
</ul>

<h2>
<a id="dependencies" class="anchor" href="#dependencies" aria-hidden="true"><span class="octicon octicon-link"></span></a>Dependencies</h2>

<ul>
<li>fury&gt;=2.0.0a3 : <a href="https://fury.gl/">https://fury.gl/</a> , provides high-level WGPU Actors for scientific visualisation.</li>
<li>dipy&gt;=1.11.0 : <a href="http://www.dipy.org">http://www.dipy.org</a> , provides tools for dMRI data analysis.</li>
<li>click&gt;=8.1.8 : <a href="https://click.palletsprojects.com/">https://click.palletsprojects.com/</a> , for creating command-line interfaces.</li>
<li>PySide6&gt;=6.9.0 : <a href="https://www.qt.io/qt-for-python">https://www.qt.io/qt-for-python</a> , Python bindings for the Qt libraries.</li>
<li>trimesh&gt;=4.6.12 : <a href="https://github.com/mikedh/trimesh">https://github.com/mikedh/trimesh</a> , for working with triangular meshes.</li>
<li>scikit-learn&gt;=1.7.1 : <a href="http://scikit-learn.org">http://scikit-learn.org</a> , provides the Mini-Batch K-means clustering algorithm.</li>
</ul>

<h2>
<a id="platform" class="anchor" href="#platform" aria-hidden="true"><span class="octicon octicon-link"></span></a>Multi-Platform Support</h2>

<p>The software is multi-platform and works with the latest versions of <strong>Ubuntu, Windows,</strong> and <strong>MacOS</strong>.</p>
<p>Being a Python-based tool, Tractome is compatible with any operating system that can run Python, ensuring a wide range of usability.</p>

<h2>
<a id="prepare-data" class="anchor" href="#prepare-data" aria-hidden="true"><span class="octicon octicon-link"></span></a>Prepare Data</h2>

<p>Tractome supports various data formats, including <strong>NIfTI (.nii, .nii.gz)</strong>, <strong> Tractography (.trx, .trk, .tck)</strong> and <strong> Mesh (.obj) along with texture.</strong></p>

<p>Before visualizing the tractography data, we need to ensure that we pre-process the tractography data and create embeddings for clustering by running the following command.</p>
<span>In case of <strong>.trk</strong> and <strong>.trx</strong></span>
<code>tractome_compute_dis_matrix YOUR_FILE_PATH </code>

<span>In case of <strong>.tck</strong></span>
<pre><code>tractome_compute_dis_matrix YOUR_FILE_PATH --reference YOUR_REFERENCE_T1_IMAGE_PATH </code></pre>

<h2>
  <a id="to-run-tractome" class="anchor" href="#to-run-tractome" aria-hidden="true"><span class="octicon octicon-link"></span></a>To Run Tractome</h2>
  
  <pre><code>tractome --tractogram TRACTOGRAM_PATH --t1 YOUR_T1_IMAGE_PATH --mesh YOUR_MESH_PATH --mesh_texture YOUR_MESH_TEXTURE_PATH</code></pre>
  
  <p> 
    This command will launch the Tractome application with the specified paths for the tractogram, T1 image, mesh, and mesh texture.
    To interact with the application, use the mouse to rotate, zoom, and pan the 3D view. You can select clusters by clicking on them, and use the provided controls to re-cluster or segment the tractography data as needed.
  </p>
  <p>
    There is a provision for 2D view of the T1 image and the selected clusters. 2D view provides the slice view of the T1 image along with the selected clusters overlaid on it. You can navigate through different slices using the slider provided in the interface. This feature helps in better understanding the spatial relationship between the tractography data and the anatomical structures in the T1 image.
  </p>
  
  <img src="images/tractome-viz.png" alt="Tractome Visualization Example" style="max-width:100%; height:auto;">
<h2>
<a id="tractome-cheatsheet" class="anchor" href="#tractome-cheatsheet" aria-hidden="true"><span class="octicon octicon-link"></span></a>Tractome Cheat Sheet</h2>
<pre>

  - a: Select all clusters.
  - n: Deselect all clusters.
  - i: Invert selection of clusters.
  - d: Delete selected clusters and create a new state.
  - e: Expand the cluster selection.
  - c: Collapse the cluster selection.
  - s: Show all clusters.
  - h: Hide unselected clusters.
  - r: Reset view.

</pre>

<h2>
<a id="references" class="anchor" href="#references" aria-hidden="true"><span class="octicon octicon-link"></span></a>References</h2>

<ul>
  <li>Garyfallidis E., et al., (2021). FURY: Advanced Scientific Visualization, JOSS</li>
  <li>Vavassori L., et al., (2025). Brain Dissection Photogrammetry: a Tool for Studying Human White Matter Connections Integrating Ex-vivo and In-vivo Multimodal Datasets, NatComms</li>
  <li>Sarubbo S, et al. (2024). Changing the Paradigm for Tractography Segmentation in Neurosurgery, Brain Sciences</li>
  <li>Garyfallidis E., et al., (2014) Dipy, a library for the analysis of diffusion MRI data, Frontiers in neuroinformatics</li>
  <li>Porro Munoz D, et al. (2015). Tractome, a visual data mining tool for brain connectivity analysis, Data Mining and Knowledge Discovery</li>
</ul>


<!-- <h2>
<a id="example-datasets" class="anchor" href="#example-datasets" aria-hidden="true"><span class="octicon octicon-link"></span></a>Example Datasets</h2>

<p>Two example datasets are available, with structural, tractography and pre-computed files:</p>

<ol>
<li>
<a href="http://nilab.cimec.unitn.it/nilab/hcp/HCP_subject124422_100Kseeds.zip">HCP_subject124422_100Kseeds.zip</a> : 15k streamlines.</li>
<li>
<a href="http://nilab.cimec.unitn.it/nilab/hcp/HCP_subject124422_3Mseeds.zip">HCP_subject124422_3Mseeds.zip</a> : 460k streamlines (be careful, at least 4Gb RAM needed).</li>
</ol>

<p>Those data refer to subject 124422 of the <a href="http://www.humanconnectome.org/">Human Connectome Project</a>. The tractography is reconstructed following <a href="https://github.com/FBK-NILab/HCP-Tractography">these steps</a> with 100k seeds and 3 millions seeds respectively.</p> -->
      </section>
    </div>

    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        <p class="copyright">Tractome maintained by <a href="https://github.com/FBK-NILab">FBK-NILab</a></p>
        <p>Published with <a href="https://pages.github.com">GitHub Pages</a></p>
      </footer>
    </div>

              <script type="text/javascript">
            var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
            document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
          </script>
          <script type="text/javascript">
            try {
              var pageTracker = _gat._getTracker("UA-50921550-1");
            pageTracker._trackPageview();
            } catch(err) {}
          </script>

          <script src="javascripts/main.js"></script>
  </body>
</html>
